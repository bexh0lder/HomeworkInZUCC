## 1.利用::$DATA 绕过黑名单检测，完成pass-9

### 分析代码可知使用黑名单验证文件后缀，但没有检测::$DATA

![image-20221216200539880](http://bex-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221216200539880.png)

### 抓包添加::$DATA绕过

![image-20221216201740687](http://bex-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221216201740687.png)

### 成功访问

![image-20221216201847583](http://bex-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221216201847583.png)

## 2.利用.htaccess文件绕过黑名单检测，完成pass-4

### 分析代码可知使用黑名单验证文件后缀，但黑名单列表中没有.htaccess

![image-20221216201927752](http://bex-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221216201927752.png)

### 上传.htaccess文件

**意思是将.png后缀的文件当作php文件解析**

```php
<FilesMatch "info.png">
SetHandlser application/x-httpd-php 
</FilesMatch>
```

### 抓包修改后缀上传

![image-20221216202554726](http://bex-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221216202554726.png)

### 成功访问

![image-20221216201847583](http://bex-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221216201847583.png)

## 3.完成白名单绕过实验pass12和pass13（分别对于get型和post型截断）

### Pass-12

#### 分析代码可知使用白名单验证文件后缀

#### GET型00截断

![image-20221216213843310](http://bex-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221216213843310.png)

#### 成功访问

![image-20221216214741895](http://bex-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221216214741895.png)

### Pass-13

#### 分析代码可知使用白名单验证文件后缀

#### POST型00截断

![image-20221216214730927](http://bex-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221216214730927.png)

![image-20221216214812185](http://bex-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221216214812185.png)

#### 成功访问

![image-20221216214829338](http://bex-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221216214829338.png)

## 4.制作图片马（2种方法）

### 方法一

在文件末尾插入

![image-20221216215143305](http://bex-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221216215143305.png)

### 方法二

cmd下使用copy命令

![image-20221216215433763](http://bex-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221216215433763.png)

![image-20221216215501125](http://bex-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221216215501125.png)