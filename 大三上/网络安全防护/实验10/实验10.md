## 1.完成dvwa靶场中的csrf漏洞实验

### 登录smithy账号

![image-20221125135500327](http://bex-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221125135500327.png)

### 登录admin账户

![image-20221125135553718](http://bex-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221125135553718.png)

### 修改smithy密码为123456

![image-20221125135625242](http://bex-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221125135625242.png)

### 复制更改密码请求URL

```
http://192.168.20.178/dvwa/vulnerabilities/csrf/?password_new=123456&password_conf=123456&Change=Change#
```

![image-20221125135711714](http://bex-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221125135711714.png)

### 在admin账户登录情况下请求该URL即可修改admin账户密码

![image-20221125135810355](http://bex-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221125135810355.png)

## 2.完成dorabox靶场中的cors漏洞实验

### 用burp抓包请求CORS跨域资源读页面

![image-20221125141720101](http://bex-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221125141720101.png)

可以看到

- `Access-Control-Allow-Origin: *`

  **`Access-Control-Allow-Origin`**响应标头指定了该响应的资源是否被允许与给定的[源（origin）](https://developer.mozilla.org/zh-CN/docs/Glossary/Origin)共享，`*`表示允许任意来源的请求代码具有访问资源的权限，造成了一个跨域读取敏感信息的漏洞

- `Access-Control-Allow-Credentials: true`

  **`Access-Control-Allow-Credentials`** 响应头用于在请求要求包含 credentials（[`Request.credentials`](https://developer.mozilla.org/zh-CN/docs/Web/API/Request/credentials) 的值为 ）时，告知浏览器是否可以将对请求的响应暴露给前端 JavaScript 代码，`true`表示允许

### 编写利用代码并放入攻击者服务器

![image-20221125144451502](http://bex-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221125144451502.png)

### 启动服务器后访问攻击者的cors.html页面

![image-20221125144529151](http://bex-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221125144529151.png)

### 即可在服务器端看到获取的内容

![image-20221125144543011](http://bex-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221125144543011.png)

![image-20221125145654607](http://bex-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221125145654607.png)